# Binary exploitaion

- `checksec ./vuln`
  - RELRO enabled (FULL RELRO?)
    - no got (global offset table) overwriting
  - Canary
    - if buffer overflow, you have to worry about canary
  - NX (no execution) enabled
    - If there is buffer overflow and we somehow bypass canary,
      we still have to worry about NX, can't execute arbitrary code from the stack, we might then have to look for something like rop, return to libc...
  - PIE
    - if disabled, everytime the program loads, it will have the same base address
- `readelf ./vuln`
  - `readelf -s ./vuln`
- pwndbg gdb:

  - to start pwndbg type in gdb console
    - `source /usr/share/pwndbg/gdbinit.py`

- [gef gdb](./gef-gdb.md)

Buffer overflow

1. Spiking
   - `spike-fuzzer` on blackarch
2. Fuzzing
3. Finding the offset
4. Overwriting the EIP
5. Finding bad characters
6. Finding the right module
7. Generating the shellcode

## More tools

- [pwninit](https://github.com/io12/pwninit)
- [Zeratool - zerapwn](https://github.com/ChrisTheCoolHut/Zeratool)
- [pwntools - python](https://docs.pwntools.com/en/stable/)

  - `ROPgadget --binary ./vuln`

- [peda gdb](https://github.com/longld/peda)
- [pwndbg gdb](https://github.com/pwndbg/pwndbg)
- [gef gdb](https://github.com/hugsy/gef)

## Vulnerable functions

- gets, puts, strcpy

- interesting functions
  - strstr, strcmp (watch for the ending of string ctrl+2 in terminal)
  - read, can allow reading null bytes

## Writeups

- [Vulnserver TRUN](./vulnserver)
- [basic x64 bit buffer overflow naham con coldfusionx](https://coldfusionx.github.io/posts/ret2basic/)

